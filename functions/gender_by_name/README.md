# Функция на PostgreSQL 12+ для определение пола по русскоязычным ФИО (фамилии, имени, отчеству)

## Результаты тестирования качества алгоритма

Для женских ФИО:

* Некорректно определяется мужской пол в `0.24%` случаев.
* Неопределяется пол в `0.28%` случаев.
* Итого `0.52%`

Для мужских ФИО:

* Некорректно определяется женский пол в `0.12%` случаев.
* Неопределяется пол в `0.43%` случаев.
* Итого `0.54%`		

## Альтернативные решения 

### PHP функция [morpher_get_gender()](https://morpher.ru/php/extension/#rod)

Проблемы с этой функцией:

1. Умеет работать с ФИО только на кириллице, для других алфавитов выдаёт ошибку. Например, не умеет работать с именами в транслите типа Elena.
1. Некорректно возвращает пол для неоднозначных уменьшительных русских имён типа Валя - female; Женя, Саша - male (должно быть unknown)
1. Фамилии типа Петренко, Кац, Перельман, Мартиросян, Нет - это male (должно быть unknown)
1. Неоднозначные ФИО определяет так (результат совпадает с `gender_by_name()`):
   1. Сергеева Олег - male
   1. Сергеева Олег Николаевна - female
   1. Сергеев Ольга - female
   1. Сергеев Ольга Николаевич - male

## Ссылки по теме

1. http://ceur-ws.org/Vol-2754/paper3.pdf (TODO почитать)
